\synctex=1
\documentclass[a4paper,11pt,svgnames]{book}

\usepackage[utf8x]{inputenc}
\usepackage{mathtools}
\usepackage{thesis}
\usepackage{calc}
\usepackage{enumitem}
\setlength{\marginparwidth}{2cm}
\setlength{\voffset}{-0.25in}
\setlength{\parskip}{0.1in}

\usepackage[notbib,nottoc]{tocbibind}

%\includeonly{5-architecture}
%\includeonly{6-use-case}

%\usepackage{draftwatermark}
%\SetWatermarkScale{4}
\usepackage{subfig}
 \usepackage{listings}
  \usepackage{courier}
 \lstset{
 	 basicstyle=\footnotesize\ttfamily,
         numbers=none,               
         numberstyle=\tiny,          
         %stepnumber=2,              
         numbersep=5pt,              
         tabsize=2,
         extendedchars=true,         
         breaklines=true,            
         keywordstyle=\color{red},
      	 frame=single,         
         stringstyle=\color{white}\ttfamily, 
         showspaces=false,           
         showtabs=false,             
         belowcaptionskip=5pt, 
         xleftmargin=2em, 
         xrightmargin=0.8em,
         showstringspaces=false 
 }
 \lstloadlanguages{% Check Dokumentation for further languages ...
        Python,
         Java
 }

\usepackage{caption}

\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth-20pt}{#1#2#3}}\vspace{0.01cm}}
\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white}

\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white, singlelinecheck=false, margin=0pt, font={bf,footnotesize}}


\usepackage{url}
\usepackage{tabularx}
\usepackage{graphicx}
%\usepackage[usenames,dvipsnames,table]{xcolor}
\usepackage{xcolor}
\usepackage{verbatim}
\usepackage[section]{placeins}
\usepackage{hhline}
\usepackage{multirow}

% Define the acronyms
\usepackage{acronym}

%acronym
\acrodef{BDI}{Belief Desire Intention}
\acrodef{BB}{Belief Base}
\acrodef{BML}{Behavior Markup Language}
\acrodef{ECA}{Embodied Conversational Agents}
\acrodef{IE}{Information Extraction}
\acrodef{ITS}{Intelligent Tutoring System}
\acrodef{IR}{Information Retrieval}
\acrodef{JLOO}{Java Learning Objects Ontology}
\acrodef{KB}{Knowledge-Base}
\acrodef{LOD}{Linked Open Data}
\acrodef{NL}{Natural Language}
\acrodef{NLI}{Natural Language Interface}
\acrodef{NLP}{Natural Language Processing}
\acrodef{NLU}{Natural Language Understanding}
\acrodef{MAS}{Multi Agent System}
\acrodef{PoS}{Part of Speech}
\acrodef{QA}{Question Answering}
\acrodef{SKOS}{Simple Knowledge Organization System}
\acrodef{SPARQL}{SPARQL Protocol and RDF Query Language}
\acrodef{OWL}{Web Ontology Language}
\acrodef{SW}{Semantic Web}
\acrodef{OoB}{Out of Band}
\acrodef{eDisMax}{Extended Disjunction Max}
\acrodef{RDF}{Resource Description Framework}
\acrodef{AIML}{Artifcial Intelligence Markup Language}
\acrodef{LMF}{Linked Media Framework}
\acrodef{WSGI}{Web Server Gateway Interface}
\acrodef{FOAF}{Friend of a Friend}
\acrodef{SIOC}{Semantically-Interlinked Online Communities}

% Reset the acronyms at the beginning of each chapter
\usepackage{etoolbox}
\preto\section\acresetall

\usepackage[pdftex,
            pdfauthor={Alberto Mardomingo Mardomingo},
            pdftitle={Design of a personal agent integrated with a Linked Data Indexing System},
            pdfsubject={Master Thesis},
            pdfkeywords={Semantic, Linked Data, RDF, Scrapping, natural language},
            pdfproducer={PDFTex},
            colorlinks=true,linkcolor=black,citecolor=black,urlcolor=black,hypertexnames=false]{hyperref}

\setcounter{secnumdepth}{3}

\usepackage{framed}
\usepackage{fixltx2e}

\colorlet{punct}{red!60!black}
\definecolor{background}{HTML}{EEEEEE}
\definecolor{delim}{RGB}{20,105,176}
\colorlet{numb}{magenta!60!black}

\usepackage{listings}
\lstset{escapeinside=||}


% switch used as state variable
\newif\ifcolonfoundonthisline

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  captionpos=b,
  morestring=[b]',
  morestring=[b]",
  numbers=left,
  frame=lines,
  backgroundcolor=\color{background}
}
\lstdefinelanguage{json}{
    basicstyle=\normalfont\ttfamily,
    numbers=left,
    numberstyle=\scriptsize,
    stepnumber=1,
    numbersep=8pt,
    captionpos=b,
    showstringspaces=false,
    breaklines=true,
    frame=lines,
    backgroundcolor=\color{background},
    literate=
     *{0}{{{\color{numb}0}}}{1}
      {1}{{{\color{numb}1}}}{1}
      {2}{{{\color{numb}2}}}{1}
      {3}{{{\color{numb}3}}}{1}
      {4}{{{\color{numb}4}}}{1}
      {5}{{{\color{numb}5}}}{1}
      {6}{{{\color{numb}6}}}{1}
      {7}{{{\color{numb}7}}}{1}
      {8}{{{\color{numb}8}}}{1}
      {9}{{{\color{numb}9}}}{1}
      {:}{{{\color{punct}{:}}}}{1}
      {,}{{{\color{punct}{,}}}}{1}
      {\{}{{{\color{delim}{\{}}}}{1}
      {\}}{{{\color{delim}{\}}}}}{1}
      {[}{{{\color{delim}{[}}}}{1}
      {]}{{{\color{delim}{]}}}}{1},
}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{gray}{rgb}{0.4,0.4,0.4}
\definecolor{darkblue}{rgb}{0.0,0.0,0.6}
\definecolor{lightblue}{rgb}{0.0,0.0,0.9}
\definecolor{cyan}{rgb}{0.0,0.6,0.6}
\definecolor{darkred}{rgb}{0.6,0.0,0.0} 
\lstdefinelanguage{XML}{
  basicstyle=\ttfamily\footnotesize,
  columns=fullflexible,
  showstringspaces=false,
  numbers=left, % where to put the line-numbers
  numberstyle=\tiny\color{gray}, % the style that is used for the line-numbers
  stepnumber=1,
  numbersep=5pt, % how far the line-numbers are from the code
  backgroundcolor=\color{background}, % choose the background color. You must add \usepackage{color}
  showspaces=false, % show spaces adding particular underscores
  showstringspaces=false, % underline spaces within strings
  showtabs=false, % show tabs within strings adding particular underscores
  frame=line, % adds a frame around the code
  rulecolor=\color{black}, % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=2, % sets default tabsize to 2 spaces
  captionpos=b, % sets the caption-position to bottom
  breaklines=true, % sets automatic line breaking
  breakatwhitespace=false, % sets if automatic breaks should only happen at whitespace
  title=\lstname, % show the filename of files included with \lstinputlisting;
  % also try caption instead of title
  commentstyle=\color{gray}\upshape
  morestring=[s][\color{mauve}]{"}{"},
  morestring=[s][\color{black}]{>}{<},
  morecomment=[s]{<?}{?>},
  morecomment=[s][\color{dkgreen}]{<!--}{-->},
  stringstyle=\color{black},
  identifierstyle=\color{lightblue},
  keywordstyle=\color{red},
  morekeywords={xmlns,xsi,field,type,fieldType,copyField,analyzer,tokenizer,filter,foaf,rdf,sc}% list your attributes here
} 


\lstdefinestyle{listXML}{language=XML, basicstyle=\ttfamily\diny, extendedchars=true,  belowcaptionskip=5pt,xleftmargin=0.4em, xrightmargin=0.3em, numbers=none, frame=single, breaklines=true, breakatwhitespace=true, breakindent=0pt, emph={}, emphstyle=\color{red}, basicstyle=\small\ttfamily, columns=fullflexible, showstringspaces=false, commentstyle=\color{gray}\upshape,
morestring=[b]",
morecomment=[s]{<?}{?>},
morecomment=[s][\color{orange}]{<!--}{-->},
keywordstyle=\color{cyan},
stringstyle=\color{black},
tagstyle=\color{darkblue},
morekeywords={xmlns, version, type, field, copyField, fieldType}
}



\lstdefinestyle{mono}{
   framesep=8px,
   extendedchars=true,
   basicstyle=\ttfamily,
   showstringspaces=false,
   showspaces=false,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   xleftmargin=8pt,
   xrightmargin=8pt
}


\lstdefinestyle{commands}{
   framesep=8px,
   extendedchars=true,
   basicstyle=\ttfamily,
   showstringspaces=false,
   showspaces=false,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   xleftmargin=8pt,
   xrightmargin=8pt
}

\lstdefinestyle{consola}
   {basicstyle=\scriptsize\ttfamily,
    backgroundcolor=\color{white},
    frame=lrtb,
    numbers=none,
    xleftmargin=4pt,
    xrightmargin=4pt
   }


\definecolor{chapterdetails}{HTML}{6DBAFF}

\usepackage[sf,bf]{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\Large\sffamily\raggedleft}
  {\vspace{5cm}\MakeUppercase{\chaptertitlename}%
    \rlap{ \resizebox{!}{1.5cm}{\thechapter} \color{chapterdetails}\rule{5cm}{1.5cm}}}
  {10pt}{\Huge}[{\color{chapterdetails}\titlerule[0.8mm] }]
\titlespacing*{\chapter}{0pt}{30pt}{20pt}

\newenvironment{chapterintro}
{% This is the begin code
\large\it
}
{% This is the end code
}


% Tick symbols
\newcommand{\tickYes}{\checkmark}
\newcommand{\tickNo}{\hspace{1pt}\ding{55}}
% Fancy header
\usepackage{fancyhdr}
%Fancy chapter cover style


% Fancy box
\usepackage{fancybox} 
\setlength{\fboxrule}{1 pt} \setlength{\fboxsep}{10pt} \setlength{\shadowsize}{3pt}

\begin{document}
\newcommand\litem[1]{\item{\bfseries #1 }}
\renewcommand{\arraystretch}{1.5} %Makes tables less crammed

\newcommand\headcell[1]{%
  \multicolumn{1}{|c|}{\cellcolor{DodgerBlue}\bfseries\sffamily\textcolor{white}{#1}}
}

\pagenumbering{Roman}

\include{0-preamble}
\include{A-resumen.tex}
\include{B-abstract.tex}
\include{C-acknowledgment}
\include{D-contents}


%Header style
\pagestyle{fancy}
\fancyhf{}
\fancyhead[RO]{\sffamily \slshape \rightmark}
\fancyhead[LE]{\sffamily \slshape \leftmark}
%\renewcommand{\footrulewidth}{0.4pt} % grosor de la l√≠nea del pie
\fancyfoot[OR,EL]{\rmfamily \thepage} % texto derecha del pie
\pagenumbering{arabic}

\include{1-introduction}
\include{2-enablingtechnologies} 
\include{3-architecture}
\include{4-javausecase}
\include{5-gsiusecase} % Split in two part, the first one for architecture, the second in evaluation ? Or not...
\include{6-evaluation}
\include{7-conclusion}

%\appendix
\include{Appendix-installation}
\include{Appendix-scrappy}
\include{Appendix-gsirdf}

\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliographystyle{ieeetr}
{
\small
\bibliography{biblio/references}
}
\cleardoublepage
\end{document}
